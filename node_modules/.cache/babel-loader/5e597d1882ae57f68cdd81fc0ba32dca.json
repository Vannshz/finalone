{"ast":null,"code":"import _objectSpread from\"/home/vannsn/Documents/Blinkist-Application-master/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/home/vannsn/Documents/Blinkist-Application-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/vannsn/Documents/Blinkist-Application-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/vannsn/Documents/Blinkist-Application-master/node_modules/@babel/runtime/regenerator/index.js\";import{styled}from\"@mui/styles\";import{useState,useEffect}from\"react\";import{Container,Box}from\"@mui/material\";import Typography from\"../../atoms/typography/Typography\";import IconWithTypography from\"../../molecules/IconTypography/IconTypography\";import{ReactComponent as Time}from\"../../../images/time.svg\";import BeyondEntrepreneur from\"../../../images/coverImages/beyondEntrepreneurship.svg\";import AddButton from\"../../molecules/Buttons/Buttons\";import{ReactComponent as Side}from\"../../../images/side.svg\";import BookTab from\"../../organisms/AboutBook/AboutBook\";import api from\"../../../api/api\";import Constants from\"../../../data/Constants\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LeftSection=styled(\"div\")({height:\"100px\",display:\"flex\",flexDirection:\"column\",gap:\"24px\"});var LeftBottom=styled(\"div\")({display:\"flex\",flexDirection:\"row\",marginTop:\"45px\",gap:\"30px\"});var WrapStyled=styled(\"div\")({display:\"flex\",flexDirection:\"column\"});var BottomTab=styled(\"div\")({marginTop:\"60px\"});var RightSection=styled(\"div\")({height:\"100px\",marginTop:\"50px\"});var BookDescription=function BookDescription(){var _useState=useState({id:1,title:\"\",author:\"\",image:\"\",time:\"\",read:\"\",state:{isFinished:false,isTrending:false,isFeatured:false,justAdded:false}}),_useState2=_slicedToArray(_useState,2),bookData=_useState2[0],setBookData=_useState2[1];var navigate=useNavigate();var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),buttonHover=_useState4[0],setButtonHover=_useState4[1];var handleMouseEnter=function handleMouseEnter(){setButtonHover(true);};var handleMouseLeave=function handleMouseLeave(){setButtonHover(false);};var handleFinish=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(num){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:bookData.state.isFinished=true;_context.next=3;return api.put(\"/library/\".concat(num),bookData);case 3:navigate(\"/\");case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleFinish(_x){return _ref.apply(this,arguments);};}();var handleRead=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(num){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:// await api.put(`/library/${num}`, bookData);\nnavigate(\"/\");case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function handleRead(_x2){return _ref2.apply(this,arguments);};}();var getData=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response,mydata;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return api.get(\"/library/\".concat(10));case 2:response=_context3.sent;mydata=response.data;setBookData(mydata);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function getData(){return _ref3.apply(this,arguments);};}();useEffect(function(){getData();},[bookData.state.isFinished]);var hoverStyle;if(buttonHover){hoverStyle={backgroundColor:\"#00C263\"};}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{sx:{marginTop:\"30px\"},children:/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\",width:\"912px\",height:\"660px\",margin:\"0 auto\",borderBottom:\"1px solid #E1ECFC\"},children:[/*#__PURE__*/_jsxs(LeftSection,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:Constants.bookDetails.title}),/*#__PURE__*/_jsx(Typography,{variant:\"h1\",children:Constants.bookDetails.heading}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:Constants.bookDetails.description}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:Constants.bookDetails.author}),/*#__PURE__*/_jsx(IconWithTypography,{iconSrc:/*#__PURE__*/_jsx(Time,{}),variant:\"caption\",title:\"15-minute read\"}),/*#__PURE__*/_jsxs(WrapStyled,{children:[/*#__PURE__*/_jsxs(LeftBottom,{children:[/*#__PURE__*/_jsx(AddButton,{style:{width:\"122px\",height:\"44px\",color:\"#22C870\",border:\"1px solid black\",textTransform:\"none\"},onClick:function onClick(){return handleRead(10);},children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:Constants.bookDetails.buttons.read})}),/*#__PURE__*/_jsx(AddButton,{style:_objectSpread({width:\"170px\",height:\"44px\",backgroundColor:\"#2CE080\",color:\"black\",textTransform:\"none\"},hoverStyle),onClick:function onClick(){return handleFinish(10);},onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:Constants.bookDetails.buttons.finish})}),/*#__PURE__*/_jsxs(AddButton,{style:{display:\"flex\",flexDirection:\"row\",gap:\"11px\",color:\"#6D787E\",textTransform:\"none\"},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:Constants.bookDetails.buttons.send}),/*#__PURE__*/_jsx(Side,{})]})]}),/*#__PURE__*/_jsx(BottomTab,{children:/*#__PURE__*/_jsx(BookTab,{})})]})]}),/*#__PURE__*/_jsx(RightSection,{children:/*#__PURE__*/_jsx(\"img\",{src:BeyondEntrepreneur,alt:\"\"})})]})})});};export default BookDescription;","map":{"version":3,"sources":["/home/vannsn/Documents/Blinkist-Application-master/src/components/organisms/BookDescription/BookDescription.tsx"],"names":["styled","useState","useEffect","Container","Box","Typography","IconWithTypography","ReactComponent","Time","BeyondEntrepreneur","AddButton","Side","BookTab","api","Constants","useNavigate","LeftSection","height","display","flexDirection","gap","LeftBottom","marginTop","WrapStyled","BottomTab","RightSection","BookDescription","id","title","author","image","time","read","state","isFinished","isTrending","isFeatured","justAdded","bookData","setBookData","navigate","buttonHover","setButtonHover","handleMouseEnter","handleMouseLeave","handleFinish","num","put","handleRead","getData","get","response","mydata","data","hoverStyle","backgroundColor","justifyContent","width","margin","borderBottom","bookDetails","heading","description","color","border","textTransform","buttons","finish","send"],"mappings":"kiBAAA,OAASA,MAAT,KAAuB,aAAvB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,SAAT,CAAoBC,GAApB,KAA+B,eAA/B,CACA,MAAOC,CAAAA,UAAP,KAAuB,mCAAvB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,+CAA/B,CACA,OAASC,cAAc,GAAIC,CAAAA,IAA3B,KAAuC,0BAAvC,CACA,MAAOC,CAAAA,kBAAP,KAA+B,wDAA/B,CACA,MAAOC,CAAAA,SAAP,KAAsB,iCAAtB,CACA,OAASH,cAAc,GAAII,CAAAA,IAA3B,KAAuC,0BAAvC,CACA,MAAOC,CAAAA,OAAP,KAAoB,qCAApB,CACA,MAAOC,CAAAA,GAAP,KAAgB,kBAAhB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,6IAiBA,GAAMC,CAAAA,WAAW,CAAGhB,MAAM,CAAC,KAAD,CAAN,CAAc,CAChCiB,MAAM,CAAE,OADwB,CAEhCC,OAAO,CAAE,MAFuB,CAGhCC,aAAa,CAAE,QAHiB,CAIhCC,GAAG,CAAE,MAJ2B,CAAd,CAApB,CAOA,GAAMC,CAAAA,UAAU,CAAGrB,MAAM,CAAC,KAAD,CAAN,CAAc,CAC/BkB,OAAO,CAAE,MADsB,CAE/BC,aAAa,CAAE,KAFgB,CAG/BG,SAAS,CAAE,MAHoB,CAI/BF,GAAG,CAAE,MAJ0B,CAAd,CAAnB,CAOA,GAAMG,CAAAA,UAAU,CAAGvB,MAAM,CAAC,KAAD,CAAN,CAAc,CAC/BkB,OAAO,CAAE,MADsB,CAE/BC,aAAa,CAAE,QAFgB,CAAd,CAAnB,CAKA,GAAMK,CAAAA,SAAS,CAAGxB,MAAM,CAAC,KAAD,CAAN,CAAc,CAC9BsB,SAAS,CAAE,MADmB,CAAd,CAAlB,CAIA,GAAMG,CAAAA,YAAY,CAAGzB,MAAM,CAAC,KAAD,CAAN,CAAc,CACjCiB,MAAM,CAAE,OADyB,CAEjCK,SAAS,CAAE,MAFsB,CAAd,CAArB,CAKA,GAAMI,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5B,cAAgCzB,QAAQ,CAAa,CACnD0B,EAAE,CAAE,CAD+C,CAEnDC,KAAK,CAAE,EAF4C,CAGnDC,MAAM,CAAE,EAH2C,CAInDC,KAAK,CAAE,EAJ4C,CAKnDC,IAAI,CAAE,EAL6C,CAMnDC,IAAI,CAAE,EAN6C,CAOnDC,KAAK,CAAE,CACLC,UAAU,CAAE,KADP,CAELC,UAAU,CAAE,KAFP,CAGLC,UAAU,CAAE,KAHP,CAILC,SAAS,CAAE,KAJN,CAP4C,CAAb,CAAxC,wCAAOC,QAAP,eAAiBC,WAAjB,eAeA,GAAMC,CAAAA,QAAQ,CAAGzB,WAAW,EAA5B,CAEA,eAAsCd,QAAQ,CAAC,KAAD,CAA9C,yCAAOwC,WAAP,eAAoBC,cAApB,eAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC7BD,cAAc,CAAC,IAAD,CAAd,CACD,CAFD,CAIA,GAAME,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC7BF,cAAc,CAAC,KAAD,CAAd,CACD,CAFD,CAIA,GAAMG,CAAAA,YAAY,0FAAG,iBAAOC,GAAP,kHACnBR,QAAQ,CAACL,KAAT,CAAeC,UAAf,CAA4B,IAA5B,CADmB,sBAEbrB,CAAAA,GAAG,CAACkC,GAAJ,oBAAoBD,GAApB,EAA2BR,QAA3B,CAFa,QAGnBE,QAAQ,CAAC,GAAD,CAAR,CAHmB,sDAAH,kBAAZK,CAAAA,YAAY,4CAAlB,CAMA,GAAMG,CAAAA,UAAU,2FAAG,kBAAOF,GAAP,sHAEjB;AACAN,QAAQ,CAAC,GAAD,CAAR,CAHiB,wDAAH,kBAAVQ,CAAAA,UAAU,8CAAhB,CAMA,GAAMC,CAAAA,OAAO,2FAAG,mLACSpC,CAAAA,GAAG,CAACqC,GAAJ,oBAAoB,EAApB,EADT,QACRC,QADQ,gBAERC,MAFQ,CAECD,QAAQ,CAACE,IAFV,CAGdd,WAAW,CAACa,MAAD,CAAX,CAHc,wDAAH,kBAAPH,CAAAA,OAAO,2CAAb,CAMA/C,SAAS,CAAC,UAAM,CACf+C,OAAO,GACP,CAFQ,CAEN,CAACX,QAAQ,CAACL,KAAT,CAAeC,UAAhB,CAFM,CAAT,CAIA,GAAIoB,CAAAA,UAAJ,CACA,GAAIb,WAAJ,CAAiB,CACfa,UAAU,CAAG,CAAEC,eAAe,CAAE,SAAnB,CAAb,CACD,CAED,mBACE,sCACE,KAAC,SAAD,EAAW,EAAE,CAAE,CAAEjC,SAAS,CAAE,MAAb,CAAf,uBACE,MAAC,GAAD,EACE,EAAE,CAAE,CACFJ,OAAO,CAAE,MADP,CAEFC,aAAa,CAAE,KAFb,CAGFqC,cAAc,CAAE,eAHd,CAIFC,KAAK,CAAE,OAJL,CAKFxC,MAAM,CAAE,OALN,CAMFyC,MAAM,CAAE,QANN,CAOFC,YAAY,CAAE,mBAPZ,CADN,wBAWE,MAAC,WAAD,yBACE,KAAC,UAAD,EAAY,OAAO,CAAC,OAApB,UACG7C,SAAS,CAAC8C,WAAV,CAAsBhC,KADzB,EADF,cAIE,KAAC,UAAD,EAAY,OAAO,CAAC,IAApB,UACGd,SAAS,CAAC8C,WAAV,CAAsBC,OADzB,EAJF,cAOE,KAAC,UAAD,EAAY,OAAO,CAAC,WAApB,UACG/C,SAAS,CAAC8C,WAAV,CAAsBE,WADzB,EAPF,cAUE,KAAC,UAAD,EAAY,OAAO,CAAC,OAApB,UACGhD,SAAS,CAAC8C,WAAV,CAAsB/B,MADzB,EAVF,cAaE,KAAC,kBAAD,EACE,OAAO,cAAE,KAAC,IAAD,IADX,CAEE,OAAO,CAAC,SAFV,CAGE,KAAK,CAAC,gBAHR,EAbF,cAkBE,MAAC,UAAD,yBACE,MAAC,UAAD,yBACE,KAAC,SAAD,EACE,KAAK,CAAE,CACL4B,KAAK,CAAE,OADF,CAELxC,MAAM,CAAE,MAFH,CAGL8C,KAAK,CAAE,SAHF,CAILC,MAAM,CAAE,iBAJH,CAKLC,aAAa,CAAE,MALV,CADT,CAQE,OAAO,CAAE,yBAAMjB,CAAAA,UAAU,CAAC,EAAD,CAAhB,EARX,uBAUE,KAAC,UAAD,EAAY,OAAO,CAAC,OAApB,UACGlC,SAAS,CAAC8C,WAAV,CAAsBM,OAAtB,CAA8BlC,IADjC,EAVF,EADF,cAeE,KAAC,SAAD,EACE,KAAK,gBACHyB,KAAK,CAAE,OADJ,CAEHxC,MAAM,CAAE,MAFL,CAGHsC,eAAe,CAAE,SAHd,CAIHQ,KAAK,CAAE,OAJJ,CAKHE,aAAa,CAAE,MALZ,EAMAX,UANA,CADP,CASE,OAAO,CAAE,yBAAMT,CAAAA,YAAY,CAAC,EAAD,CAAlB,EATX,CAUE,YAAY,CAAEF,gBAVhB,CAWE,YAAY,CAAEC,gBAXhB,uBAaE,KAAC,UAAD,EAAY,OAAO,CAAC,OAApB,UACG9B,SAAS,CAAC8C,WAAV,CAAsBM,OAAtB,CAA8BC,MADjC,EAbF,EAfF,cAgCE,MAAC,SAAD,EACE,KAAK,CAAE,CACLjD,OAAO,CAAE,MADJ,CAELC,aAAa,CAAE,KAFV,CAGLC,GAAG,CAAE,MAHA,CAIL2C,KAAK,CAAE,SAJF,CAKLE,aAAa,CAAE,MALV,CADT,wBASE,KAAC,UAAD,EAAY,OAAO,CAAC,OAApB,UACGnD,SAAS,CAAC8C,WAAV,CAAsBM,OAAtB,CAA8BE,IADjC,EATF,cAYE,KAAC,IAAD,IAZF,GAhCF,GADF,cAgDE,KAAC,SAAD,wBACE,KAAC,OAAD,IADF,EAhDF,GAlBF,GAXF,cAkFE,KAAC,YAAD,wBACE,YAAK,GAAG,CAAE3D,kBAAV,CAA8B,GAAG,CAAC,EAAlC,EADF,EAlFF,GADF,EADF,EADF,CA4FD,CAnJD,CAqJA,cAAeiB,CAAAA,eAAf","sourcesContent":["import { styled } from \"@mui/styles\";\nimport { useState, useEffect } from \"react\";\nimport { Container, Box } from \"@mui/material\";\nimport Typography from \"../../atoms/typography/Typography\";\nimport IconWithTypography from \"../../molecules/IconTypography/IconTypography\";\nimport { ReactComponent as Time } from \"../../../images/time.svg\";\nimport BeyondEntrepreneur from \"../../../images/coverImages/beyondEntrepreneurship.svg\";\nimport AddButton from \"../../molecules/Buttons/Buttons\";\nimport { ReactComponent as Side } from \"../../../images/side.svg\";\nimport BookTab from \"../../organisms/AboutBook/AboutBook\";\nimport api from \"../../../api/api\";\nimport Constants from \"../../../data/Constants\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport type DataObject = {\n  id: number;\n  title: string;\n  author: string;\n  image: string;\n  time: string;\n  read: string;\n  state: {\n    isFinished: boolean;\n    isTrending: boolean;\n    justAdded: boolean;\n    isFeatured: boolean;\n  };\n};\n\nconst LeftSection = styled(\"div\")({\n  height: \"100px\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  gap: \"24px\",\n});\n\nconst LeftBottom = styled(\"div\")({\n  display: \"flex\",\n  flexDirection: \"row\",\n  marginTop: \"45px\",\n  gap: \"30px\",\n});\n\nconst WrapStyled = styled(\"div\")({\n  display: \"flex\",\n  flexDirection: \"column\",\n});\n\nconst BottomTab = styled(\"div\")({\n  marginTop: \"60px\",\n});\n\nconst RightSection = styled(\"div\")({\n  height: \"100px\",\n  marginTop: \"50px\",\n});\n\nconst BookDescription = () => {\n  const [bookData, setBookData] = useState<DataObject>({\n    id: 1,\n    title: \"\",\n    author: \"\",\n    image: \"\",\n    time: \"\",\n    read: \"\",\n    state: {\n      isFinished: false,\n      isTrending: false,\n      isFeatured: false,\n      justAdded: false,\n    },\n  });\n\n  const navigate = useNavigate();\n\n  const [buttonHover, setButtonHover] = useState(false);\n\n  const handleMouseEnter = () => {\n    setButtonHover(true);\n  };\n\n  const handleMouseLeave = () => {\n    setButtonHover(false);\n  };\n\n  const handleFinish = async (num: number) => {\n    bookData.state.isFinished = true;\n    await api.put(`/library/${num}`, bookData);\n    navigate(\"/\")\n  };\n\n  const handleRead = async (num: number) => {\n   \n    // await api.put(`/library/${num}`, bookData);\n    navigate(\"/\")\n  }\n\n  const getData = async () => {\n    const response = await api.get(`/library/${10}`);\n    const mydata = response.data;\n    setBookData(mydata);\n  };\n\n  useEffect(() => {\n   getData()\n  }, [bookData.state.isFinished]);\n\n  let hoverStyle;\n  if (buttonHover) {\n    hoverStyle = { backgroundColor: \"#00C263\" };\n  }\n\n  return (\n    <>\n      <Container sx={{ marginTop: \"30px\" }}>\n        <Box\n          sx={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"space-between\",\n            width: \"912px\",\n            height: \"660px\",\n            margin: \"0 auto\",\n            borderBottom: \"1px solid #E1ECFC\",\n          }}\n        >\n          <LeftSection>\n            <Typography variant=\"body2\">\n              {Constants.bookDetails.title}\n            </Typography>\n            <Typography variant=\"h1\">\n              {Constants.bookDetails.heading}\n            </Typography>\n            <Typography variant=\"subtitle1\">\n              {Constants.bookDetails.description}\n            </Typography>\n            <Typography variant=\"body1\">\n              {Constants.bookDetails.author}\n            </Typography>\n            <IconWithTypography\n              iconSrc={<Time />}\n              variant=\"caption\"\n              title=\"15-minute read\"\n            />\n            <WrapStyled>\n              <LeftBottom>\n                <AddButton\n                  style={{\n                    width: \"122px\",\n                    height: \"44px\",\n                    color: \"#22C870\",\n                    border: \"1px solid black\",\n                    textTransform: \"none\",\n                  }}\n                  onClick={() => handleRead(10)}\n                >\n                  <Typography variant=\"body1\">\n                    {Constants.bookDetails.buttons.read}\n                  </Typography>\n                </AddButton>\n                <AddButton\n                  style={{\n                    width: \"170px\",\n                    height: \"44px\",\n                    backgroundColor: \"#2CE080\",\n                    color: \"black\",\n                    textTransform: \"none\",\n                    ...hoverStyle,\n                  }}\n                  onClick={() => handleFinish(10)}\n                  onMouseEnter={handleMouseEnter}\n                  onMouseLeave={handleMouseLeave}\n                >\n                  <Typography variant=\"body1\">\n                    {Constants.bookDetails.buttons.finish}\n                  </Typography>\n                </AddButton>\n                <AddButton\n                  style={{\n                    display: \"flex\",\n                    flexDirection: \"row\",\n                    gap: \"11px\",\n                    color: \"#6D787E\",\n                    textTransform: \"none\",\n                  }}\n                >\n                  <Typography variant=\"body1\">\n                    {Constants.bookDetails.buttons.send}\n                  </Typography>\n                  <Side />\n                </AddButton>\n              </LeftBottom>\n              <BottomTab>\n                <BookTab />\n              </BottomTab>\n            </WrapStyled>\n          </LeftSection>\n          <RightSection>\n            <img src={BeyondEntrepreneur} alt=\"\" />\n          </RightSection>\n        </Box>\n      </Container>\n    </>\n  );\n};\n\nexport default BookDescription;\n"]},"metadata":{},"sourceType":"module"}