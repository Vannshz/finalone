{"ast":null,"code":"import _asyncToGenerator from\"/home/vannsn/Documents/Blinkist-Application-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/vannsn/Documents/Blinkist-Application-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/vannsn/Documents/Blinkist-Application-master/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from\"react\";import{makeStyles}from\"@mui/styles\";import{createTheme,ThemeProvider}from\"@mui/material\";import{Box}from\"@mui/material\";import styled from\"@emotion/styled\";import Typography from\"../../atoms/typography/Typography\";import IconTypography from\"../../molecules/IconTypography/IconTypography\";import Button from\"../../molecules/Buttons/Buttons\";import{ReactComponent as Time}from\"../../../images/time.svg\";import{ReactComponent as User}from\"../../../images/user.svg\";import{ReactComponent as Add}from\"../../../images/add.svg\";import api from\"../../../api/api\";import ProgressBar from\"../../atoms/ProgessBar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var theme=createTheme({components:{MuiTypography:{styleOverrides:{subtitle1:{fontFamily:\"Cera Pro\",fontlWeight:\"bold\",fontSize:\"18px\",lineHeight:\"23px\",color:\"#03314B\"},body1:{fontFamily:\"Cera Pro\",fontStyle:\"normal\",fontWeight:\"normal\",fontSize:\"16px\",lineHeight:\"20px\"},caption:{fontFamily:\"Cera Pro\",fontStyle:\"normal\",fontWeight:\"normal\",fontSize:\"14px\",lineHeight:\"18px\",color:\"#6D787E\"}}}}});var RootContainer=styled(\"div\")({width:\"284px\",// height: \"466px\",\nheight:\"485px\",background:\"#FFFFFF\",border:\"1px solid #E1ECFC\",boxSizing:\"border-box\",borderRadius:\"8\",display:\"flex\",flexDirection:\"column\",gap:\"12px\",overflow:\"hidden\"});var useStyles=makeStyles({image:{position:\"relative\",height:\"292px\",width:\"294.1px\"},title:{position:\"relative\",top:\"23px\",left:\"16px\",bottom:\"80px\",height:\"23px\",fontFamily:\"Cera Pro\",fontSize:\"18px\",lineHeight:\"23px\",color:\"#03314B\"},author:{position:\"relative\",top:\"16px\",left:\"16px\",height:\"20px\",fontFamily:\"Cera Pro\",fontSize:\"16px\",lineHeight:\"20px\",color:\"#6D787E\"},rowFlex:{display:\"flex\",flexDirection:\"row\",top:\"17px\"},time:{position:\"relative\",left:\"5px\",top:\"16px\",fontFamily:\"Cera Pro\",fontSize:\"14px\",lineHeight:\"18px\",color:\"#6D787E\"},read:{position:\"relative\",top:\"16px\",left:\"47.33px\",fontFamily:\"Cera Pro\",fontSize:\"14px\",lineHeight:\"18px\",textAlign:\"right\",color:\"#6D787E\"},finished:{fontFamily:\"Cera Pro\",fontStyle:\"normal\",fontWeight:\"500\",fontSize:\"16px\",lineHeight:\"20px\",color:\"#0365F2\",textAlign:\"center\",position:\"relative\",// top: \"15px\",\ncursor:\"pointer\"},addButton:{width:\"100%\",height:\"52px\"}});var Card=function Card(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),mouseState=_useState2[0],setMouseState=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),linkStyle=_useState4[0],setLinkStyle=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),iconStyle=_useState6[0],setIconStyle=_useState6[1];var _useState7=useState({id:1,title:\"\",author:\"\",image:\"\",time:\"\",read:\"\",state:{isFinished:false,isTrending:false,isFeatured:false,justAdded:false}}),_useState8=_slicedToArray(_useState7,2),bookData=_useState8[0],setBookData=_useState8[1];var handleMouseEnter=function handleMouseEnter(){setMouseState(true);setLinkStyle({backgroundColor:\"#0365F2\",color:\"white\"});setIconStyle({fill:\"white\",stroke:\"white\"});};var handleMouseLeave=function handleMouseLeave(){setMouseState(false);setLinkStyle({backgroundColor:\"#FFFFFF\"});setIconStyle({});};var addToCurrentlyReading=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(num){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:bookData.state.isFinished=false;bookData.state.isTrending=false;_context.next=4;return api.put(\"/library/\".concat(num),bookData);case 4:case\"end\":return _context.stop();}}},_callee);}));return function addToCurrentlyReading(_x){return _ref.apply(this,arguments);};}();var updateFinish=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(num){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(bookData.state.isFinished){bookData.state.isFinished=false;}else{bookData.state.isFinished=true;}_context2.next=3;return api.put(\"/library/\".concat(num),bookData);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function updateFinish(_x2){return _ref2.apply(this,arguments);};}();useEffect(function(){var getData=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(val){var response,mydata;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(val&&val!==0)){_context3.next=6;break;}_context3.next=3;return api.get(\"/library/\".concat(val));case 3:response=_context3.sent;mydata=response.data;setBookData(mydata);case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function getData(_x3){return _ref3.apply(this,arguments);};}();getData(props.value);},[props.value]);var style=useStyles();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(ThemeProvider,{theme:theme,children:/*#__PURE__*/_jsxs(RootContainer,{onClick:props.onClick,children:[/*#__PURE__*/_jsx(\"img\",{src:props.image,alt:\"img\",className:style.image}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",className:style.title,children:props.title}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",className:style.author,children:props.author}),/*#__PURE__*/_jsxs(\"div\",{className:style.rowFlex,children:[/*#__PURE__*/_jsx(\"div\",{className:style.time,children:/*#__PURE__*/_jsx(IconTypography,{iconSrc:/*#__PURE__*/_jsx(Time,{}),variant:\"caption\",title:props.time})}),/*#__PURE__*/_jsx(\"div\",{className:style.read,children:props.read===\"\"?null:/*#__PURE__*/_jsx(IconTypography,{iconSrc:/*#__PURE__*/_jsx(User,{}),variant:\"caption\",title:props.read})})]}),props.isFinished?/*#__PURE__*/_jsxs(\"div\",{style:{height:52,position:'relative',top:30,bottom:0},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",className:style.finished,onClick:function onClick(){return updateFinish(props.value);},style:{cursor:'pointer'},children:\"Finished\"}),/*#__PURE__*/_jsx(Box,{sx:{width:284,bgcolor:'#F1F6F4',mt:\"4px\",borderRadius:8,boxSizing:'border-box'},children:/*#__PURE__*/_jsx(ProgressBar,{progress:30})})]}):null,props.readAgain?/*#__PURE__*/_jsxs(\"div\",{style:{height:52,position:'relative',top:30,bottom:0},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",className:style.finished,onClick:function onClick(){return updateFinish(props.value);},style:{cursor:'pointer'},children:\"Read Again\"}),/*#__PURE__*/_jsx(Box,{sx:{width:284,bgcolor:'#F1F6F4',mt:\"4px\",borderRadius:8,boxSizing:'border-box'},children:/*#__PURE__*/_jsx(ProgressBar,{progress:100})})]}):null,props.addToLibrary?/*#__PURE__*/_jsx(Button,{style:linkStyle,className:style.addButton,onMouseEnter:function onMouseEnter(){return handleMouseEnter;},onMouseLeave:function onMouseLeave(){return handleMouseLeave;},onClick:function onClick(){return addToCurrentlyReading;},children:/*#__PURE__*/_jsx(IconTypography,{iconSrc:/*#__PURE__*/_jsx(Add,{style:iconStyle}),variant:\"body1\",title:\"Add to library\"})}):null]})})});};export default Card;","map":{"version":3,"sources":["/home/vannsn/Documents/Blinkist-Application-master/src/components/organisms/Card/Card.tsx"],"names":["React","useState","useEffect","makeStyles","createTheme","ThemeProvider","Box","styled","Typography","IconTypography","Button","ReactComponent","Time","User","Add","api","ProgressBar","theme","components","MuiTypography","styleOverrides","subtitle1","fontFamily","fontlWeight","fontSize","lineHeight","color","body1","fontStyle","fontWeight","caption","RootContainer","width","height","background","border","boxSizing","borderRadius","display","flexDirection","gap","overflow","useStyles","image","position","title","top","left","bottom","author","rowFlex","time","read","textAlign","finished","cursor","addButton","Card","props","mouseState","setMouseState","linkStyle","setLinkStyle","iconStyle","setIconStyle","id","state","isFinished","isTrending","isFeatured","justAdded","bookData","setBookData","handleMouseEnter","backgroundColor","fill","stroke","handleMouseLeave","addToCurrentlyReading","num","put","updateFinish","getData","val","get","response","mydata","data","value","style","onClick","bgcolor","mt","readAgain","addToLibrary"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@mui/styles\";\nimport { createTheme, ThemeProvider } from \"@mui/material\";\nimport { Box } from \"@mui/material\";\nimport styled from \"@emotion/styled\";\nimport Typography from \"../../atoms/typography/Typography\";\nimport IconTypography from \"../../molecules/IconTypography/IconTypography\";\nimport Button from \"../../molecules/Buttons/Buttons\";\nimport { ReactComponent as Time } from \"../../../images/time.svg\";\nimport { ReactComponent as User } from \"../../../images/user.svg\";\nimport { ReactComponent as Add } from \"../../../images/add.svg\";\nimport api from \"../../../api/api\";\nimport { DataObject } from \"../BookDescription/BookDescription\";\nimport ProgressBar from \"../../atoms/ProgessBar\";\n\nconst theme = createTheme({\n  components: {\n    MuiTypography: {\n      styleOverrides: {\n        subtitle1: {\n          fontFamily: \"Cera Pro\",\n          fontlWeight: \"bold\",\n          fontSize: \"18px\",\n          lineHeight: \"23px\",\n          color: \"#03314B\",\n        },\n        body1: {\n          fontFamily: \"Cera Pro\",\n          fontStyle: \"normal\",\n          fontWeight: \"normal\",\n          fontSize: \"16px\",\n          lineHeight: \"20px\",\n        },\n        caption: {\n          fontFamily: \"Cera Pro\",\n          fontStyle: \"normal\",\n          fontWeight: \"normal\",\n          fontSize: \"14px\",\n          lineHeight: \"18px\",\n          color: \"#6D787E\",\n        },\n      },\n    },\n  },\n});\n\nconst RootContainer = styled(\"div\")({\n  width: \"284px\",\n  // height: \"466px\",\n  height: \"485px\",\n  background: \"#FFFFFF\",\n  border: \"1px solid #E1ECFC\",\n  boxSizing: \"border-box\",\n  borderRadius: \"8\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  gap: \"12px\",\n  overflow: \"hidden\",\n});\n\nconst useStyles = makeStyles({\n  image: {\n    position: \"relative\",\n    height: \"292px\",\n    width: \"294.1px\",\n  },\n  title: {\n    position: \"relative\",\n    top: \"23px\",\n    left: \"16px\",\n    bottom: \"80px\",\n    height: \"23px\",\n    fontFamily: \"Cera Pro\",\n    fontSize: \"18px\",\n    lineHeight: \"23px\",\n    color: \"#03314B\",\n  },\n  author: {\n    position: \"relative\",\n    top: \"16px\",\n    left: \"16px\",\n    height: \"20px\",\n    fontFamily: \"Cera Pro\",\n    fontSize: \"16px\",\n    lineHeight: \"20px\",\n    color: \"#6D787E\",\n  },\n  rowFlex: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    top: \"17px\",\n  },\n  time: {\n    position: \"relative\",\n    left: \"5px\",\n    top: \"16px\",\n    fontFamily: \"Cera Pro\",\n    fontSize: \"14px\",\n    lineHeight: \"18px\",\n    color: \"#6D787E\",\n  },\n  read: {\n    position: \"relative\",\n    top: \"16px\",\n    left: \"47.33px\",\n    fontFamily: \"Cera Pro\",\n    fontSize: \"14px\",\n    lineHeight: \"18px\",\n    textAlign: \"right\",\n    color: \"#6D787E\",\n  },\n  finished: {\n    fontFamily: \"Cera Pro\",\n    fontStyle: \"normal\",\n    fontWeight: \"500\",\n    fontSize: \"16px\",\n    lineHeight: \"20px\",\n    color: \"#0365F2\",\n    textAlign: \"center\",\n    position: \"relative\",\n    // top: \"15px\",\n    cursor: \"pointer\",\n  },\n  addButton: {\n    width: \"100%\",\n    height: \"52px\",\n  }\n});\n\ninterface Props {\n  children?: React.ReactNode;\n  className?: string;\n  image?: string;\n  title: string;\n  author: string;\n  time: string;\n  read: string;\n    isFinished?: boolean;\n    addToLibrary?: boolean;\n    readAgain?: boolean;\n  onClick?: () => void;\n  value: number;\n  id?: number;\n} \n\n\n\n\nconst Card = (props: Props) => {\n  const [mouseState, setMouseState] = useState(false);\n  const [linkStyle, setLinkStyle] = useState({});\n  const [iconStyle, setIconStyle] = useState({});\n\n  const [bookData, setBookData] = useState<DataObject>({\n    id: 1,\n    title: \"\",\n    author: \"\",\n    image: \"\",\n    time: \"\",\n    read: \"\",\n    state: {\n      isFinished: false,\n      isTrending: false,\n      isFeatured: false,\n      justAdded: false,\n    },\n  });\n\n  const handleMouseEnter = () => {\n    setMouseState(true);\n    setLinkStyle({\n      backgroundColor: \"#0365F2\",\n      color: \"white\",\n    });\n\n    setIconStyle({\n      fill: \"white\",\n      stroke: \"white\",\n    });\n  };\n\n  const handleMouseLeave = () => {\n    setMouseState(false);\n    setLinkStyle({\n      backgroundColor: \"#FFFFFF\",\n    });\n    setIconStyle({});\n  };\n\n  const addToCurrentlyReading = async (num:number) => {\n    bookData.state.isFinished = false;\n    bookData.state.isTrending = false;\n    await api.put(`/library/${num}`, bookData);\n  }\n\n  const updateFinish = async (num: number) => {\n    if (bookData.state.isFinished) {\n      bookData.state.isFinished = false;\n    } else {\n      bookData.state.isFinished = true;\n    }\n    await api.put(`/library/${num}`, bookData);\n  };\n\n  useEffect(() => {\n    const getData = async (val: number) => {\n      if(val && val !==0 )\n      {\n      const response = await api.get(`/library/${val}`);\n      const mydata = response.data;\n      setBookData(mydata);\n      }\n    }\n      getData(props.value);\n    \n  }, [props.value]);\n\n  const style = useStyles();\n  return (\n    <>\n      <ThemeProvider theme={theme}>\n        <RootContainer onClick={props.onClick}>\n          <img src={props.image} alt=\"img\" className={style.image} />\n          <Typography variant=\"subtitle1\" className={style.title}>\n            {props.title}\n          </Typography>\n          <Typography variant=\"body1\" className={style.author}>\n            {props.author}\n          </Typography>\n          <div className={style.rowFlex}>\n            <div className={style.time}>\n              <IconTypography\n                iconSrc={<Time />}\n                variant=\"caption\"\n                title={props.time}\n              />\n            </div>\n            <div className={style.read}>\n              {props.read === \"\" ? null : (\n                <IconTypography\n                  iconSrc={<User />}\n                  variant=\"caption\"\n                  title={props.read}\n                />\n              )}\n            </div>\n          </div>\n\n          {/* {props.isFinished ? (\n            <Typography variant=\"body1\" className={style.finished} onClick={() => updateFinish(props.value)}>\n              Finished\n            </Typography>\n          ) : null} */}\n\n\n            {props.isFinished ? (\n          <div style={{height: 52, position:'relative',top:30, bottom:0}}>\n            <Typography variant=\"body1\" className={style.finished} onClick={() => updateFinish(props.value)} style={{cursor:'pointer'}} >\n              Finished\n            </Typography>\n            <Box\n            sx={{\n                width: 284,\n                bgcolor: '#F1F6F4',\n                mt:\"4px\",\n               \n                borderRadius: 8,\n                boxSizing: 'border-box',\n              }}\n            >\n              <ProgressBar progress={30} />\n            </Box>\n            </div>\n          ) : null}\n\n\n\n  \n{props.readAgain ? (\n            <div style={{height: 52, position:'relative',top:30, bottom:0}}>\n            <Typography variant=\"body1\" className={style.finished} onClick={() => updateFinish(props.value)} style={{cursor:'pointer'}}>\n              Read Again\n            </Typography>\n            <Box\n            sx={{\n                width: 284,\n                bgcolor: '#F1F6F4',\n                mt:\"4px\",\n                borderRadius: 8,\n                boxSizing: 'border-box',\n              }}\n            >\n              <ProgressBar progress={100} />\n            </Box>\n            </div>\n            \n          ) : null}\n\n\n\n\n          {/* {props.readAgain ? (\n            <Typography variant=\"body1\" className={style.finished} onClick={() => updateFinish(props.value)}>\n              Read Again\n            </Typography>\n          ) : null} */}\n\n          {props.addToLibrary ? (\n            <Button\n              style={linkStyle}\n              className={style.addButton}\n              onMouseEnter={() => handleMouseEnter}\n              onMouseLeave={() => handleMouseLeave}\n              onClick={() => addToCurrentlyReading}\n            >\n              <IconTypography\n               \n                iconSrc={<Add style={iconStyle} />}\n                variant=\"body1\"\n                title=\"Add to library\"\n              />\n            </Button>\n          ) : null}\n        </RootContainer>\n      </ThemeProvider>\n    </>\n  );\n};\n\nexport default Card;\n"]},"metadata":{},"sourceType":"module"}